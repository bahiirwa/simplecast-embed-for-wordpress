{"version":3,"file":"index.js","mappings":"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","sources":["webpack://simplecast-embed-block/./src/edit.js","webpack://simplecast-embed-block/./src/icons.js","webpack://simplecast-embed-block/external window [\"wp\",\"blockEditor\"]","webpack://simplecast-embed-block/external window [\"wp\",\"blocks\"]","webpack://simplecast-embed-block/external window [\"wp\",\"components\"]","webpack://simplecast-embed-block/external window [\"wp\",\"element\"]","webpack://simplecast-embed-block/external window [\"wp\",\"i18n\"]","webpack://simplecast-embed-block/webpack/bootstrap","webpack://simplecast-embed-block/webpack/runtime/compat get default export","webpack://simplecast-embed-block/webpack/runtime/define property getters","webpack://simplecast-embed-block/webpack/runtime/hasOwnProperty shorthand","webpack://simplecast-embed-block/webpack/runtime/make namespace object","webpack://simplecast-embed-block/./src/index.js"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { useBlockProps, InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, TextareaControl, ToggleControl } from '@wordpress/components';\nimport { useState, useEffect } from '@wordpress/element';\n\nexport default function Edit( { attributes, setAttributes } ) {\n    const { link, isDark } = attributes;\n\n    let [apiQuery, setApiQuery] = useState(null);\n    const [ hasDarkMode, setDarkMode ] = useState( false );\n\n    useEffect(() => {\n        fetch(`https://api.simplecast.com/oembed?url=${link}`)\n        .then(response => response.json())\n        .then(data => setApiQuery(getIframeSrc(data.html)))\n    },[link])\n\n    function getIframeSrc(html) {\n        const div = document.createElement('div');\n        div.innerHTML = html;\n        const iframe = div.querySelector('iframe');\n        return iframe.src;\n    }\n\n    if ( null !== apiQuery || '' !== apiQuery ) {\n        let linked = `${apiQuery}?dark=${hasDarkMode}`;\n\n        return (\n            <div {...useBlockProps() }>\n                <iframe height=\"200px\" width=\"100%\" frameborder=\"no\" scrolling=\"no\" seamless src={linked}></iframe>\n                <InspectorControls>\n                    <PanelBody title={__('Podcast Settings', 'simplecast-embed-for-wordpress')} initialOpen={true}>\n                        <TextareaControl\n                            label={__('Podcast Link', 'simplecast-embed-for-wordpress')}\n                            placeholder='https://link.domain'\n                            type=\"url\"\n                            value={link}\n                            onChange={(link) => setAttributes({ link }) }\n                        />\n                    </PanelBody>\n                    <PanelBody title={__('Presentation Settings', 'simplecast-embed-for-wordpress')} initialOpen={false}>\n                        <ToggleControl\n                            label=\"Enable Dark Mode\"\n                            help={ hasDarkMode ? 'Enable Dark Mode.' : 'Disable Dark Mode.' }\n                            checked={ hasDarkMode }\n                            onChange={ () => { setDarkMode( ( state ) => ! state ); } }\n                        />\n                    </PanelBody>\n                </InspectorControls>\n            </div>\n        );\n    }\n\n}\n","const icons = {};\n\nicons.logo = <svg x=\"0px\" y=\"0px\" viewBox=\"0 0 336 336\"><g><g><path d=\"M11.94,320.6c0-102.53,0-204.31,0-306.97c103.14,0,206.18,0,309.87,0c0,102.22,0,204.25,0,306.97 C218.71,320.6,115.93,320.6,11.94,320.6z M300.71,299.46c0-89.03,0-176.67,0-264.49c-89.52,0-178.19,0-266.98,0 c0,88.62,0,176.26,0,264.49C123.01,299.46,211.43,299.46,300.71,299.46z\"/></g><g><path d=\"M260.44,258.89c-62.7-61.96-123.42-121.97-185.47-183.3c0,62.86,0,122.92,0,183.3 C136.34,258.89,196.79,258.89,260.44,258.89z\"/></g><g><path d=\"M188.6,87.27c19.46,20.27,38.06,39.64,57.39,59.77c4.32-4.94,8.49-9.71,11.98-13.7c-18.47-18.95-37.41-38.38-56.41-57.88 C196.55,80.03,191.86,84.31,188.6,87.27z\"/></g><g><path d=\"M260.44,258.89c-63.65,0-124.1,0-185.47,0c0-60.38,0-120.44,0-183.3C137.02,136.92,197.74,196.93,260.44,258.89z\"/></g><polygon points=\"243.9,204.98 257.69,192.94 137.16,71.71 123.37,83.75 \"/></g></svg>;\n\nexport default icons;","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { registerBlockType } from '@wordpress/blocks';\nimport Edit from './edit';\nimport metadata from './block.json';\nimport icons from './icons';\n\nregisterBlockType( metadata.name, {\n\tedit: Edit,\n    icon: icons.logo,\n} );\n"],"names":["__","useBlockProps","InspectorControls","PanelBody","TextareaControl","ToggleControl","useState","useEffect","Edit","_ref","attributes","setAttributes","link","isDark","apiQuery","setApiQuery","hasDarkMode","setDarkMode","fetch","then","response","json","data","getIframeSrc","html","div","document","createElement","innerHTML","iframe","querySelector","src","linked","height","width","frameborder","scrolling","seamless","title","initialOpen","label","placeholder","type","value","onChange","help","checked","state","icons","logo","x","y","viewBox","d","points","registerBlockType","metadata","name","edit","icon"],"sourceRoot":""}